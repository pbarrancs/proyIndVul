library(readr)
datos <- read_csv("~/ITAM/Décimo/index/BD.csv")
attach(datos)
X<-datos[,5:18]
library(GGally)
ggpairs(X)
library(corpcor)
cor2pcor(cov(X))
library(mctest)
omcdiag(as.matrix(X), Alcaldia)
library(readxl)
datos <- read_excel( "BD.xlsx", skip = 0)
attach(datos)
View(datos)
X<-datos[,5:18]
library(GGally)
ggpairs(X)
library(corpcor)
cor2pcor(cov(X))
library(mctest)
omcdiag(as.matrix(X), Alcaldia)
fit1<- lm(log(Alcaldia)~Carencia_alimentos+Carencia_salud+Carencia_servicios+Solicitudes_desempleo+Desempleados+Camas+Personal_Medico+`Casos Confirmados`+`Poblacion afiliada a servicios de salud`+`Poblacion Ocupada`)
fit1<- lm(Alcaldia~Carencia_alimentos+Carencia_salud+Carencia_servicios+Solicitudes_desempleo+Desempleados+Camas+Personal_Medico+`Casos Confirmados`+`Poblacion afiliada a servicios de salud`+`Poblacion Ocupada`)
fit1<- lm(Clave~Carencia_alimentos+Carencia_salud+Carencia_servicios+Solicitudes_desempleo+Desempleados+Camas+Personal_Medico+`Casos Confirmados`+`Poblacion afiliada a servicios de salud`+`Poblacion Ocupada`)
summary(fit1)
Alcaldia <- factor(Alcaldia)
fit1<- lm(Alcaldia~Carencia_alimentos+Carencia_salud+Carencia_servicios+Solicitudes_desempleo+Desempleados+Camas+Personal_Medico+`Casos Confirmados`+`Poblacion afiliada a servicios de salud`+`Poblacion Ocupada`)
datos$Alcaldia <- factor(datoa$Alcaldia)
datos$Alcaldia <- factor(datos$Alcaldia)
fit1<- lm(Alcaldia~Carencia_alimentos+Carencia_salud+Carencia_servicios+Solicitudes_desempleo+Desempleados+Camas+Personal_Medico+`Casos Confirmados`+`Poblacion afiliada a servicios de salud`+`Poblacion Ocupada`)
is.factor(Alcaldia)
Alcaldia[1:16]
library(readxl)
datos <- read_excel("BD.xlsx", skip = 0)
attach(datos)
datos$Alcaldia.f <- factor(datos$Alcaldia)
datos$Alcaldia.f <- factor(datos$Alcaldia)
fit1<- lm(Alcaldia.f~Carencia_alimentos+Carencia_salud+Carencia_servicios+Solicitudes_desempleo+Desempleados+Camas+Personal_Medico+`Casos Confirmados`+`Poblacion afiliada a servicios de salud`+`Poblacion Ocupada`)
datos$Alcaldia.f <- factor(datos$Alcaldia)
fit1<- lm(datos$Alcaldia.f~Carencia_alimentos+Carencia_salud+Carencia_servicios+Solicitudes_desempleo+Desempleados+Camas+Personal_Medico+`Casos Confirmados`+`Poblacion afiliada a servicios de salud`+`Poblacion Ocupada`)
summary(fit1)
library(readxl)
datos <- read_excel("BD.xlsx", skip = 0)
attach(datos)
fit1<- lm(factor(Alcaldia)~Carencia_alimentos+Carencia_salud+Carencia_servicios+Solicitudes_desempleo+Desempleados+Camas+Personal_Medico+`Casos Confirmados`+`Poblacion afiliada a servicios de salud`+`Poblacion Ocupada`)
summary(fit1)
library(readxl)
datos <- read_excel("BD.xlsx", skip = 0)
attach(datos)
X<-datos[,5:18]
library(GGally)
ggpairs(X)
library(corpcor)
cor2pcor(cov(X))
library(readxl)
datos <- read_excel("BD.xlsx", skip = 0)
attach(datos)
X<-datos[,5:18]
library(GGally)
ggpairs(X)
library(corpcor)
cor2pcor(cov(X))
library(mctest)
omcdiag(as.matrix(X), Alcaldia)
View(X)
X<-data.matrix(X, rownames.force = NA)
library(mctest)
omcdiag(X, Alcaldia)
library(readxl)
datos <- read_excel("BD.xlsx", skip = 0)
attach(datos)
library(readr)
datos <- read_csv("BD.xlsx", skip = 0)
attach(datos)
X<-datos[,5:18]
View(datos)
library(readr)
datos <- read_csv("~/ITAM/Décimo/index/BD.csv")
attach(datos)
View(datos)
View(datos)
X<-datos[,5:14]
library(GGally)
ggpairs(X)
library(corpcor)
cor2pcor(cov(X))
library(mctest)
omcdiag(X, Alcaldia)
library(readr)
datos <- read_csv("~/ITAM/Décimo/index/BD.csv")
attach(datos)
X<-datos[,5:7]
library(GGally)
ggpairs(X)
library(corpcor)
cor2pcor(cov(X))
View(X)
library(mctest)
omcdiag(datos, Alcaldia)
a<-cbind(c(1, 2), c(2,3))
omcdiag(a, Alcaldia)
type(a)
typeof(a)
library(readr)
datos <- read_csv("~/ITAM/Décimo/index/BD.csv")
attach(datos)
X<-datos[,5:7]
library(GGally)
ggpairs(X)
library(corpcor)
cor2pcor(cov(X))
```{r}
matrix(as.numeric(unlist(X)),nrow=nrow(X))
omcdiag(X, Alcaldia)
omcdiag(X, Alcaldia)
x<-matrix(as.numeric(unlist(X)),nrow=nrow(X))
X<-matrix(as.numeric(unlist(X)),nrow=nrow(X))
omcdiag(X, Alcaldia)
#omcdiag(X, Alcaldia)
data(Hald)
x<-Hald[,-1]
y<-Hald[,1]
od<-omcdiag(x,y)
library(mctest)
#omcdiag(X, Alcaldia)
data(Hald)
x<-Hald[,-1]
y<-Hald[,1]
od<-omcdiag(x,y)
omcdiag(x,y, Inter=FALSE)
View(Hald)
View(x)
omcdiag(X, Alcaldia)
library(readr)
datos <- read_csv("~/ITAM/Décimo/index/BD.csv")
attach(datos)
X<-datos[,5:7]
library(GGally)
ggpairs(X)
library(corpcor)
cor2pcor(cov(X))
X, Alcaldia
od<-omcdiag(X,Alcaldia)
od<-omcdiag(X,Clave)
omcdiag(X,Clave)
imcdiag(X,Clave)
View(datos)
library(readr)
datos <- read_csv("~/ITAM/Décimo/index/BD.csv")
attach(datos)
X<-datos[,5:15]
library(GGally)
ggpairs(X)
library(corpcor)
cor2pcor(cov(X))
library(mctest)
omcdiag(X,Clave)
imcdiag(X,Clave)
library(ppcor)
install.packages("ppcor")
library(ppcor)
pcor(X, method = "pearson")
library(factoextra)
X<-cbind(c(-1,-1), c(0,0) , c(1,1))
z <- prcomp(X)
z
library(ggplot2)
library(factoextra)
df<- read.csv("BD.csv")
fviz_screeplot(z)
library(ggplot2)
library(factoextra)
df<- read.csv("BD.csv")
setwd("~/ITAM/Décimo/index/proyIndVul/Data")
library(ggplot2)
library(factoextra)
df<- read.csv("BD.csv")
setwd("~/ITAM/Décimo/index/proyIndVul/Data")
df<- read.csv("~/ITAM/Décimo/index/proyIndVul/Data/BD.csv")
df[,5:13]<-df[,5:13]/df[,3]
df[,13] <- df[,13]*1000 #miles de pesos
df <- df[,c(8,11:16)]
names(df) <- c("X1","X2","X3","X4","X5","X6","X7")
head(df)
library(ggplot2)
library(factoextra)
df<- read.csv("~/ITAM/Décimo/index/proyIndVul/Data/BD.csv")
df[,5:13]<-df[,5:13]/df[,3]
df[,13] <- df[,13]*1000 #miles de pesos
df <- df[,c(8,11:16)]
names(df) <- c("X1","X2","X3","X4","X5","X6","X7")
head(df)
#solo para comparar
z <- princomp(df,cor = T)
summary(z, loadings=T)
(R <- round(cor(df),3))
eig <- eigen(R)
(y <- round(eig$vectors,3)) #lo multiplicamos por -1 simplemente por practicidad
aport_var <- function(l)
{
lsum <- sum(l)
l/lsum
}
var <- aport_var(eig$values)
plot(var,type="o",ylab = "Porcentaje de varianza expresada", xlab = "Componente")
fviz_screeplot(z)
library(ggplot2)
library(factoextra)
df<- read.csv("~/ITAM/Décimo/index/proyIndVul/Data/BD.csv")
df[,5:13]<-df[,5:13]/df[,3]
df[,13] <- df[,13]*1000 #miles de pesos
df <- df[,c(8,11:16)]
names(df) <- c("X1","X2","X3","X4","X5","X6","X7")
head(df)
#solo para comparar
z <- princomp(df,cor = T)
summary(z, loadings=T)
(R <- round(cor(df),3))
eig <- eigen(R)
(y <- round(eig$vectors,3)) #lo multiplicamos por -1 simplemente por practicidad
aport_var <- function(l)
{
lsum <- sum(l)
l/lsum
}
var <- aport_var(eig$values)
plot(var,type="o",ylab = "Porcentaje de varianza expresada", xlab = "Componente")
fviz_screeplot(z)
df[,2]
View(df)
df[,c(2,7)]<-df[,c(2,7)]^2
library(ggplot2)
library(factoextra)
df<- read.csv("~/ITAM/Décimo/index/proyIndVul/Data/BD.csv")
df[,5:13]<-df[,5:13]/df[,3]
df[,13] <- df[,13]*1000 #miles de pesos
df <- df[,c(8,11:16)]
names(df) <- c("X1","X2","X3","X4","X5","X6","X7")
head(df)
#solo para comparar
z <- princomp(df,cor = T)
summary(z, loadings=T)
(R <- round(cor(df),3))
eig <- eigen(R)
(y <- round(eig$vectors,3)) #lo multiplicamos por -1 simplemente por practicidad
aport_var <- function(l)
{
lsum <- sum(l)
l/lsum
}
var <- aport_var(eig$values)
plot(var,type="o",ylab = "Porcentaje de varianza expresada", xlab = "Componente")
fviz_screeplot(z)
df[,7]<-df[,7]^2
df[,7]<-df[,7]^2
df[,6]<-df[,6]^(1/2)
library(ggplot2)
library(factoextra)
df<- read.csv("~/ITAM/Décimo/index/proyIndVul/Data/BD.csv")
df[,5:13]<-df[,5:13]/df[,3]
df[,13] <- df[,13]*1000 #miles de pesos
df <- df[,c(8,11:16)]
names(df) <- c("X1","X2","X3","X4","X5","X6","X7")
head(df)
#solo para comparar
z <- princomp(df,cor = T)
summary(z, loadings=T)
(R <- round(cor(df),3))
eig <- eigen(R)
(y <- round(eig$vectors,3)) #lo multiplicamos por -1 simplemente por practicidad
aport_var <- function(l)
{
lsum <- sum(l)
l/lsum
}
var <- aport_var(eig$values)
plot(var,type="o",ylab = "Porcentaje de varianza expresada", xlab = "Componente")
fviz_screeplot(z)
df[,7]<-df[,7]^2
df[,6]<-log(df[,6])
z <- princomp(df,cor = T)
R <- round(cor(df),3)
eig <- eigen(R)
y <- round(eig$vectors,3)
z <- princomp(df,cor = T)
R <- round(cor(df),3)
(eig <- eigen(R))
(y <- round(eig$vectors,3))
aport_var <- function(l)
{
lsum <- sum(l)
l/lsum
}
var <- aport_var(eig$values)
plot(var,type="o",ylab = "Porcentaje de varianza expresada", xlab = "Componente")
fviz_screeplot(z)
library(ggplot2)
library(factoextra)
df<- read.csv("~/ITAM/Décimo/index/proyIndVul/Data/BD.csv")
df[,5:13]<-df[,5:13]/df[,3]
df[,13] <- df[,13]*1000 #miles de pesos
df <- df[,c(8,11:16)]
names(df) <- c("X1","X2","X3","X4","X5","X6","X7")
head(df)
#solo para comparar
z <- princomp(df,cor = T)
summary(z, loadings=T)
(R <- round(cor(df),3))
eig <- eigen(R)
(y <- round(eig$vectors,3)) #lo multiplicamos por -1 simplemente por practicidad
aport_var <- function(l)
{
lsum <- sum(l)
l/lsum
}
var <- aport_var(eig$values)
plot(var,type="o",ylab = "Porcentaje de varianza expresada", xlab = "Componente")
fviz_screeplot(z)
nuevo<-df
nuevo[,7]<-nuevo[,7]^2
nuevo[,6]<-log(nuevo[,6])
zn <- princomp(nuevo,cor = T)
Rn <- round(cor(nuevo),3)
(eign <- eigen(Rn))
(y <- round(eign$vectors,3))
fviz_screeplot(zn)
nuevo<-df
nuevo[,7]<-nuevo[,7]^2
nuevo[,6]<-log(nuevo[,6])
nuevo[,2]<-nuevo[,2]*100
zn <- princomp(nuevo,cor = T)
Rn <- round(cor(nuevo),3)
(eign <- eigen(Rn))
(y <- round(eign$vectors,3))
fviz_screeplot(zn)
nuevo<-df
nuevo[,7]<-nuevo[,7]^2
nuevo[,6]<-log(nuevo[,6])
nuevo[,2]<-nuevo[,2]*100
zn <- princomp(nuevo,cor = T)
Rn <- round(cor(nuevo),3)
eign <- eigen(Rn)
(y <- round(eign$vectors,3))
fviz_screeplot(zn)
nuevo<-df
nuevo[,7]<-nuevo[,7]^3
nuevo[,6]<-log(nuevo[,6])
nuevo[,2]<-nuevo[,2]*1000
zn <- princomp(nuevo,cor = T)
Rn <- round(cor(nuevo),3)
eign <- eigen(Rn)
(y <- round(eign$vectors,3))
fviz_screeplot(zn)
View(nuevo)
nuevo<-df
nuevo[,7]<-nuevo[,7]^3
nuevo[,6]<-log(nuevo[,6])
nuevo[,2]<-nuevo[,2]*1000
nuevo[,5]<-nuevo[,5]/100
zn <- princomp(nuevo,cor = T)
Rn <- round(cor(nuevo),3)
eign <- eigen(Rn)
(y <- round(eign$vectors,3))
fviz_screeplot(zn)
nuevo<-df
nuevo[,7]<-nuevo[,7]^3
nuevo[,6]<-log(nuevo[,6])
nuevo[,2]<-nuevo[,2]*1000
nuevo[,5]<-nuevo[,5]*100
zn <- princomp(nuevo,cor = T)
Rn <- round(cor(nuevo),3)
eign <- eigen(Rn)
(y <- round(eign$vectors,3))
fviz_screeplot(zn)
#Instalar las librerias necesarias y cargarlas
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE,
quietly = TRUE,
warn.conflicts = FALSE)){
install.packages(as.character(paquete),
dependecies = TRUE,
repos = "http://cran.us.r-project.org")
library(paquete,
character.only = TRUE,
quietly = TRUE,
warn.conflicts = FALSE)
}
}
libs <- c('GGally', 'tidyverse', 'mctest', 'ggplot2', 'ggbeeswarm','dplyr', 'plotly')
lapply(libs, instalar)
df<- read.csv("BD.csv")
df[,5:13]<-df[,5:13]/df[,3]
df[,13]<-df[,13]*1000
df.1<-df[,-c(1,3,4)]
#Instalar las librerias necesarias y cargarlas
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE,
quietly = TRUE,
warn.conflicts = FALSE)){
install.packages(as.character(paquete),
dependecies = TRUE,
repos = "http://cran.us.r-project.org")
library(paquete,
character.only = TRUE,
quietly = TRUE,
warn.conflicts = FALSE)
}
}
libs <- c('GGally', 'tidyverse', 'mctest', 'ggplot2', 'ggbeeswarm','dplyr', 'plotly')
lapply(libs, instalar)
df<- read.csv("BD.csv")
